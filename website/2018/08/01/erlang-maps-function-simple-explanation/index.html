<h1 id='erlang_maps_函数_“简单”_的解释'>Erlang maps 函数 “简单” 的解释</h1>

<p>译自：https://qiita.com/kayama0fa/items/b0e60644ed40b318a513</p>

<h2 id='erlang_maps_函数_“简单”_的解释'>Erlang maps 函数 “简单” 的解释</h2>

<p>描述 maps 函数，一行的简要说明和示例代码。 有关更多信息，请参阅官方参考。</p>

<p>原始转发（官方参考）http://erlang.org/doc/man/maps.html</p>

<p>描述，以便您可以立即找到该功能，并能够大致掌握它的移动方式。 评述的顺序是根据基于主观性的重要性来安排的。</p>

<p>本页的TODO：</p>

<ul>
<li>由于它几乎完全写入，检查是否有错误。</li>

<li>如果我能负担得起的话，我会做得更好一点。但是如果你写了别的东西，你想增加另一个库。</li>

<li>示例代码已改进</li>
</ul>

<h2 id='创建一个空_maps_-_maps:new/0'>创建一个空 maps - maps:new/0</h2>

<pre><code class="language-erlang">M0 = maps:new(),</code></pre>

<h2 id='向_maps_添加值_-_maps:put/3'>向 maps 添加值 - maps:put/3</h2>

<pre><code class="language-erlang">M1 = maps:put(a, 1, M0),
M2 = maps:put(b, 2, M1),
M3 = maps:put(c, 3, M2),
M4 = maps:put(d, &quot;abc&quot;,M3),
M5 = maps:put(e, &lt;&lt;&quot;アイウエオ&quot;/utf8&gt;&gt;, M4), </code></pre>

<h2 id='从_maps_中取值_-_maps:get/2,_maps:get/3'>从 maps 中取值 - maps:get/2, maps:get/3</h2>

<pre><code class="language-erlang">1 = maps:get(a, M5),
not_found = maps:get(g, M5, not_found),</code></pre>

<h2 id='从_maps_中删除值_-_maps:remove/2'>从 maps 中删除值 - maps:remove/2</h2>

<pre><code class="language-erlang">M4 = maps:remove(e, M5),
M5 = maps:remove(d, M4),</code></pre>

<h2 id='从_maps_中查找和检索值_-_maps:find/2'>从 maps 中查找和检索值 - maps:find/2</h2>

<pre><code class="language-erlang">{ok, _} = maps:find(e, M5),
error = maps:find(g, M5),</code></pre>

<h2 id='检查_maps_是否具有指定的_key_-_maps:is_key/2'>检查 maps 是否具有指定的 key - maps:is_key/2</h2>

<pre><code class="language-erlang">true = maps:is_key(a, M5),
false = maps:is_key(x, M5),</code></pre>

<h2 id='获取在_maps_中注册的数据数量_-_maps:size/1'>获取在 maps 中注册的数据数量 - maps:size/1</h2>

<pre><code class="language-erlang">5 = maps:size(M5),
1 = maps:size(M1),
0 = maps:size(M0),</code></pre>

<h2 id='获取在_maps_中注册的_keys_列表_-_maps:keys/1'>获取在 maps 中注册的 keys 列表 - maps:keys/1</h2>

<pre><code class="language-erlang">[a, b, c] = lists:sort(maps:keys(M3)),</code></pre>

<h2 id='获取在_maps_中注册的值列表_-_maps:valus/1'>获取在 maps 中注册的值列表 - maps:valus/1</h2>

<pre><code class="language-erlang">[1,2,3] = lists:sort(maps:values(M3)),</code></pre>

<h2 id='maps_一个列表的_keys_和_值的元组_-_maps:to_list/1'>maps 一个列表的 keys 和 值的元组 - maps:to_list/1</h2>

<pre><code class="language-erlang">[{a, 1},{b, 2}] = maps:to_list(M2),</code></pre>

<h2 id='从_keys_和值元组列表中获取_maps_-_maps:from_list/1'>从 keys 和值元组列表中获取 maps - maps:from_list/1</h2>

<pre><code class="language-erlang">M2 = maps:from_list([{a, 1}, {b, 2}]),</code></pre>

<h2 id='将任意筛选应用于_maps_以创建新_maps_-_maps:filter/2'>将任意筛选应用于 maps 以创建新 maps - maps:filter/2</h2>

<pre><code class="language-erlang">FilterM = maps:from_list([{a, 1},{b, 2}]),
FilterM = maps:filter(fun(_K, V) -&gt; (V rem 3) =:= 1 end, M3),</code></pre>

<h2 id='在_maps_上执行卷积操作_-_maps:fold/3'>在 maps 上执行卷积操作 - maps:fold/3</h2>

<pre><code class="language-erlang">6 = maps:fold(fun(_, V, Acc) when is_integer(V) -&gt; V + Acc; (_, _, Acc) -&gt; Acc end, 0, M5),</code></pre>

<h2 id='返回_maps_的每个值的任意处理结果_-_maps:map/2'>返回 maps 的每个值的任意处理结果 - maps:map/2</h2>

<pre><code class="language-erlang">NewMap = maps:from_list([{a, 10}, {b, 20}, {c, 30}]),
NewMap = maps:map(fun(_K, V) -&gt; V * 10 end, M3),</code></pre>

<h2 id='合并两个_maps_-_maps:merge/2'>合并两个 maps - maps:merge/2</h2>

<p>％如果存在相同的键，则优先考虑第二个 maps 的值</p>

<pre><code class="language-erlang">MapA = maps:from_list([{a, 10}, {b, 20}]),
MapB = maps:from_list([{a, 1}, {c, 30}]),
MapAB = maps:from_list([{a, 1}, {b, 20}, {c, 30}]),
MapAB = maps:merge(MapA, MapB),</code></pre>

<h2 id='更新_maps_的任何键的值_-_maps:update/3'>更新 maps 的任何键的值 - maps:update/3</h2>

<pre><code class="language-erlang">UpdateMap1 = maps:from_list([{a, 1}, {b, 2}]),
UpdateMap2 = maps:from_list([{a, 10}, {b, 2}]),
UpdateMap2 = maps:update(a, 10, UpdateMap1),</code></pre>

<h2 id='用函数更新_maps_任意键的值_-_maps:update_with/3'>用函数更新 maps 任意键的值 - maps:update_with/3</h2>

<pre><code class="language-erlang">UpdateMap2 = maps:update_with(a, fun(V) -&gt; V * 10 end, UpdateMap1),</code></pre>

<h2 id='来自_update_with/3，一个可以在没有_key_时指定默认值的函数_-_maps:update_with/4'>来自 update<em>with/3，一个可以在没有 key 时指定默认值的函数 - maps:update</em>with/4</h2>

<pre><code class="language-erlang">UpdateMap3 = maps:from_list([{a, 1}, {b, 2}, {c, 3}]),
UpdateMap3 = maps:update_with(c, fun(V) -&gt; V * 10 end, 3, UpdateMap1),</code></pre>

<h2 id='仅使用指定的键从_maps_中重新创建_maps_-_maps:with/2'>仅使用指定的键从 maps 中重新创建 maps - maps:with/2</h2>

<pre><code class="language-erlang">WithKeys = [a, c],
WithMap1 = maps:from_list([{a, 1},{b, 2}, {c, 3}]),
WithMap2 = maps:from_list([{a, 1}, {c, 3}]),
WithMap2 = maps:with(WithKeys, WithMap1),</code></pre>

<h2 id='使用非指定的键重建_maps，使用_with/2_相反的键_-_maps:without/2'>使用非指定的键重建 maps，使用 with/2 相反的键 - maps:without/2</h2>

<pre><code class="language-erlang">WithMap3 = maps:from_list([{b, 2}]),
WithMap3 = maps:without(WithKeys, WithMap1),</code></pre>

<h2 id='从已删除该键的_maps_和_maps_中返回任意键的值_-_take/2'>从已删除该键的 maps 和 maps 中返回任意键的值 - take/2</h2>

<pre><code class="language-erlang">{2, M1} = maps:take(b, M2)</code></pre>
